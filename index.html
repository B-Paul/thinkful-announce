<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <script type="text/javascript">
    var clientId = '549978578689-gth04j75b4e3g9tme2a983hni8l50775.apps.googleusercontent.com';
    var scopes = 'https://spreadsheets.google.com/feeds https://docs.google.com/feeds';

    function authorize(immediate) {
      var request = {
        client_id: clientId,
        scope: scopes,
        immediate: !!immediate
      };
      gapi.auth.authorize(request, handleAuthResult);
    }

    function handleAuthResult(authResult) {
      if (authResult && !authResult.error) {
        console.log("we're in!")
      } else {
        var clickMe = document.createElement('input');
        clickMe.type = 'button';
        clickMe.onclick = authorize;
        document.body.appendChild(clickMe);
        clickMe.click();
      }
    }

    var checkAuth = authorize.bind(null, true);
  </script>
  <!-- Step 1: Load JavaScript client library -->
  <script src="https://apis.google.com/js/client.js?onload=checkAuth"></script>
</body>
</html>